{"ast":null,"code":"\"use strict\";\n\nexports.__esModule = true;\nexports.default = useElementLayout;\n\nvar _ExecutionEnvironment = require(\"fbjs/lib/ExecutionEnvironment\");\n\nvar _useLayoutEffect = _interopRequireDefault(require(\"../useLayoutEffect\"));\n\nvar _UIManager = _interopRequireDefault(require(\"../../exports/UIManager\"));\n\nfunction _interopRequireDefault(obj) {return obj && obj.__esModule ? obj : { default: obj };}\n\n\n\n\n\n\n\n\n\nvar DOM_LAYOUT_HANDLER_NAME = '__reactLayoutHandler';\nvar didWarn = !_ExecutionEnvironment.canUseDOM;\nvar resizeObserver = null;\n\nfunction getResizeObserver() {\n  if (_ExecutionEnvironment.canUseDOM && typeof window.ResizeObserver !== 'undefined') {\n    if (resizeObserver == null) {\n      resizeObserver = new window.ResizeObserver(function (entries) {\n        entries.forEach(function (entry) {\n          var node = entry.target;\n          var onLayout = node[DOM_LAYOUT_HANDLER_NAME];\n\n          if (typeof onLayout === 'function') {\n\n\n            _UIManager.default.measure(node, function (x, y, width, height, left, top) {\n              var event = {\n\n                nativeEvent: {\n                  layout: {\n                    x: x,\n                    y: y,\n                    width: width,\n                    height: height,\n                    left: left,\n                    top: top } },\n\n\n                timeStamp: Date.now() };\n\n              Object.defineProperty(event.nativeEvent, 'target', {\n                enumerable: true,\n                get: function get() {\n                  return entry.target;\n                } });\n\n              onLayout(event);\n            });\n          }\n        });\n      });\n    }\n  } else if (!didWarn) {\n    if (process.env.NODE_ENV !== 'production' && process.env.NODE_ENV !== 'test') {\n      console.warn('onLayout relies on ResizeObserver which is not supported by your browser. ' + 'Please include a polyfill, e.g., https://github.com/que-etc/resize-observer-polyfill.');\n      didWarn = true;\n    }\n  }\n\n  return resizeObserver;\n}\n\nfunction useElementLayout(ref, onLayout) {\n  var observer = getResizeObserver();\n  (0, _useLayoutEffect.default)(function () {\n    var node = ref.current;\n\n    if (node != null) {\n      node[DOM_LAYOUT_HANDLER_NAME] = onLayout;\n    }\n  }, [ref, onLayout]);\n\n\n  (0, _useLayoutEffect.default)(function () {\n    var node = ref.current;\n\n    if (node != null && observer != null) {\n      if (typeof node[DOM_LAYOUT_HANDLER_NAME] === 'function') {\n        observer.observe(node);\n      } else {\n        observer.unobserve(node);\n      }\n    }\n\n    return function () {\n      if (node != null && observer != null) {\n        observer.unobserve(node);\n      }\n    };\n  }, [ref, observer]);\n}\n\nmodule.exports = exports.default;","map":{"version":3,"names":["exports","__esModule","default","useElementLayout","_ExecutionEnvironment","require","_useLayoutEffect","_interopRequireDefault","_UIManager","obj","DOM_LAYOUT_HANDLER_NAME","didWarn","canUseDOM","resizeObserver","getResizeObserver","window","ResizeObserver","entries","forEach","entry","node","target","onLayout","measure","x","y","width","height","left","top","event","nativeEvent","layout","timeStamp","Date","now","Object","defineProperty","enumerable","get","process","env","NODE_ENV","console","warn","ref","observer","current","observe","unobserve","module"],"sources":["D:/workbridge/mProjects/GlobalNewsApp/global_news_rn/node_modules/react-native-web/dist/cjs/modules/useElementLayout/index.js"],"sourcesContent":["\"use strict\";\n\nexports.__esModule = true;\nexports.default = useElementLayout;\n\nvar _ExecutionEnvironment = require(\"fbjs/lib/ExecutionEnvironment\");\n\nvar _useLayoutEffect = _interopRequireDefault(require(\"../useLayoutEffect\"));\n\nvar _UIManager = _interopRequireDefault(require(\"../../exports/UIManager\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * Copyright (c) Nicolas Gallagher.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n */\nvar DOM_LAYOUT_HANDLER_NAME = '__reactLayoutHandler';\nvar didWarn = !_ExecutionEnvironment.canUseDOM;\nvar resizeObserver = null;\n\nfunction getResizeObserver() {\n  if (_ExecutionEnvironment.canUseDOM && typeof window.ResizeObserver !== 'undefined') {\n    if (resizeObserver == null) {\n      resizeObserver = new window.ResizeObserver(function (entries) {\n        entries.forEach(function (entry) {\n          var node = entry.target;\n          var onLayout = node[DOM_LAYOUT_HANDLER_NAME];\n\n          if (typeof onLayout === 'function') {\n            // We still need to measure the view because browsers don't yet provide\n            // border-box dimensions in the entry\n            _UIManager.default.measure(node, function (x, y, width, height, left, top) {\n              var event = {\n                // $FlowFixMe\n                nativeEvent: {\n                  layout: {\n                    x: x,\n                    y: y,\n                    width: width,\n                    height: height,\n                    left: left,\n                    top: top\n                  }\n                },\n                timeStamp: Date.now()\n              };\n              Object.defineProperty(event.nativeEvent, 'target', {\n                enumerable: true,\n                get: function get() {\n                  return entry.target;\n                }\n              });\n              onLayout(event);\n            });\n          }\n        });\n      });\n    }\n  } else if (!didWarn) {\n    if (process.env.NODE_ENV !== 'production' && process.env.NODE_ENV !== 'test') {\n      console.warn('onLayout relies on ResizeObserver which is not supported by your browser. ' + 'Please include a polyfill, e.g., https://github.com/que-etc/resize-observer-polyfill.');\n      didWarn = true;\n    }\n  }\n\n  return resizeObserver;\n}\n\nfunction useElementLayout(ref, onLayout) {\n  var observer = getResizeObserver();\n  (0, _useLayoutEffect.default)(function () {\n    var node = ref.current;\n\n    if (node != null) {\n      node[DOM_LAYOUT_HANDLER_NAME] = onLayout;\n    }\n  }, [ref, onLayout]); // Observing is done in a separate effect to avoid this effect running\n  // when 'onLayout' changes.\n\n  (0, _useLayoutEffect.default)(function () {\n    var node = ref.current;\n\n    if (node != null && observer != null) {\n      if (typeof node[DOM_LAYOUT_HANDLER_NAME] === 'function') {\n        observer.observe(node);\n      } else {\n        observer.unobserve(node);\n      }\n    }\n\n    return function () {\n      if (node != null && observer != null) {\n        observer.unobserve(node);\n      }\n    };\n  }, [ref, observer]);\n}\n\nmodule.exports = exports.default;"],"mappings":"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"},"metadata":{},"sourceType":"script"}